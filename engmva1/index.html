<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Injured In An Auto</title>
    <link href="style.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.7/jquery.inputmask.min.js"></script>
    <style>
      .custom-green {
        background-color: #49b74e;
      }

      .blue-text {
        color: #0074e0;
      }

      .red-text {
        color: #ff0000;
      }

      .d-select {
        display: block;
        width: 100%;
        background: #fff;
        border-radius: 4px;
        border: 1px solid #d2d6dc;
        box-shadow: 0 0 0 1px rgba(47, 69, 103, 0.22);
        font-family: Roboto, Arial, sans-serif;
        font-weight: 400;
        font-size: 20px;
        line-height: 20px;
        padding: 11px 15px;
        height: 46px;
        color: #5e727b;
        margin: 0;
        outline: none;
      }

      .loading-bar {
        transition: width 1s;
      }

      @keyframes loading {
        0% {
          width: 0%;
        }
        50% {
          width: 50%;
        }
        100% {
          width: 100%;
        }
      }
    </style>

    <!-- TrustedForm -->
    <script type="text/javascript">
      (function () {
        var tf = document.createElement("script");
        tf.type = "text/javascript";
        tf.async = true;
        tf.src =
          ("https:" == document.location.protocol ? "https" : "http") +
          "://api.trustedform.com/trustedform.js?field=xxTrustedFormCertUrl&ping_field=xxTrustedFormPingUrl&l=" +
          new Date().getTime() +
          Math.random();
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(tf, s);
      })();
    </script>
    <noscript>
      <img src="https://api.trustedform.com/ns.gif" />
    </noscript>
    <!-- End TrustedForm -->
    <!-- Meta Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "3297666737154145");
      fbq("track", "PageView");
    </script>
    <noscript
      ><img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=3297666737154145&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
  </head>
  <body>
    <div class="w-full sm:w-1/2 mx-auto">
      <div class="text-2xl sm:text-4xl font-bold text-center mt-5 mb-5">
        <span class="red-text">INJURED</span> IN AN AUTO ACCIDENT? YOU MAY BE
        <span class="red-text">ENTITLED</span> TO A LARGE SUM OF
        <span class="red-text">MONEY</span>
      </div>
    </div>
    <div class="w-full sm:w-1/2 mx-auto">
      <div id="progress" class="relative pt-1 mx-5 hidden">
        <div class="overflow-hidden h-4 mb-4 text-xs flex rounded bg-green-200">
          <div style="width: 30%" class="bg-green-500 relative loading-bar">
            <span class="text-white absolute top-0 right-0 mr-2">30%</span>
          </div>
        </div>
      </div>

      <!-- Questions -->
      <div id="q1" class="px-3 sm:px-0 w-full mx-auto mt-10">
        <div class="font-bold text-2xl sm:text-3xl text-center mb-5">
          Were you or a loved one injured in an Accident?
        </div>

        <button
          class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
          ref="0"
        >
          Yes
        </button>

        <button
          class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
          ref="1"
        >
          No
        </button>
      </div>

      <div id="q2" class="px-3 sm:px-0 w-full mx-auto mt-10 hidden">
        <div class="font-bold text-2xl sm:text-3xl text-center mb-5">
          What caused your injury?
        </div>

        <div class="mb-5">
          <select id="causeSelect" class="d-select mb-5">
            <option disabled="disabled" selected="selected" value="">
              Choose one
            </option>
            <option value="issue_caraccident">Car Accident</option>
            <option value="issue_mcaccident">Motor Cycle Accident</option>
            <option value="issue_truckaccident">Truck Accident</option>
          </select>
        </div>

        <button
          class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
          ref="0"
        >
          Next
        </button>
      </div>

      <div id="q3" class="px-3 sm:px-0 w-full mx-auto mt-10 hidden">
        <div class="font-bold text-2xl sm:text-3xl text-center mb-5">
          When was the month and year of your injury?
        </div>

        <div class="flex flex-wrap -mx-2 mb-4">
          <div class="w-1/2 px-2 mb-4 md:mb-0">
            <select id="month" class="d-select mb-5">
              <option disabled="disabled" selected="selected" value="">
                Choose Month
              </option>
              <option value="01">January</option>
              <option value="02">February</option>
              <option value="03">March</option>
              <option value="04">April</option>
              <option value="05">May</option>
              <option value="06">June</option>
              <option value="07">July</option>
              <option value="08">August</option>
              <option value="09">September</option>
              <option value="10">October</option>
              <option value="11">November</option>
              <option value="12">December</option>
            </select>
          </div>
          <div class="w-1/2 px-2">
            <select id="year" class="d-select mb-5">
              <option disabled="disabled" selected="selected" value="">
                Choose Year
              </option>
              <option value="2023">2023</option>
              <option value="2022">2022</option>
              <option value="2021">2021</option>
              <option value="Before 2021">Before 2021</option>
            </select>
          </div>
        </div>

        <button
          class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
          ref="1"
        >
          Next
        </button>
      </div>

      <div id="q4" class="px-3 sm:px-0 w-full mx-auto mt-10 hidden">
        <div class="font-bold text-2xl sm:text-3xl text-center mb-5">
          Did the injury require hospitalization, medical treatment or cause you to miss work?
        </div>

        <button
          class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
          ref="0"
        >
          Yes
        </button>

        <button
          class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
          ref="1"
        >
          No
        </button>
      </div>

      <div id="q5" class="px-3 sm:px-0 w-full mx-auto mt-10 hidden">
        <div class="font-bold text-2xl sm:text-3xl text-center mb-5">
          <span class="font-bold">Last Step:</span> Do you currently have a lawyer representing your claim?
        </div>

        <div id="lawyer-note" class="text-center font-bold hidden" style="color: red;">Please note, if you have a lawyer representing your claim we cannot help you.</div>
        <a href="../engmva1/ty.html">
          <button
            class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
            ref="0"
          >
            Yes
          </button>
          <input name="injured" id="injured" type="hidden" value="" />
          <input name="cause" id="cause" type="hidden" value="" />
          <input name="month" id="monthSelected" type="hidden" value="" />
          <input name="year" id="yearSelected" type="hidden" value="" />
          <input name="treated" id="treated" type="hidden" value="" />
          <input name="attorney" id="attorney" type="hidden" value="" />
          <input name="ip" id="ip" type="hidden" value="" />
          <input name="clickid" id="clickid" type="hidden" value="" />
        </a>
        <a href="../engmva1/thankyou.html">
          <button
            class="custom-green hover:bg-green-600 text-white font-bold py-4 px-4 rounded w-full text-3xl mb-5"
            ref="1"
          >
            No
          </button>
          <input name="injured" id="injured" type="hidden" value="" />
          <input name="cause" id="cause" type="hidden" value="" />
          <input name="month" id="monthSelected" type="hidden" value="" />
          <input name="year" id="yearSelected" type="hidden" value="" />
          <input name="treated" id="treated" type="hidden" value="" />
          <input name="attorney" id="attorney" type="hidden" value="" />
          <input name="ip" id="ip" type="hidden" value="" />
          <input name="clickid" id="clickid" type="hidden" value="" />
        </a>
      </div>

      <!-- /Questions -->

      <div id="sorry" class="px-3 sm:px-0 w-full mx-auto mt-20 mb-40 hidden">
        <div class="red-text text-xl text-center mb-5">
          Based on your answers, you do not qualify for financial compensation.
          If you made a mistake, please refresh the page and resubmit your
          claim. Thank You.
        </div>
      </div>
    </div>

    <div class="w-full sm:w-1/2 mx-auto mt-10">
      <div class="text-xs text-center mb-5">
        By submitting the above, I authorize an affiliated contractor to call me
        and send text messages to me about my automotive accident claim
        application at the number entered above, using an autodialer, even if
        I'm on a National or State "Do Not Call" list. You can opt-out anytime.
        Data and message rates may apply.
      </div>
      <div class="text-center mt-5">
        <a
          target="_blank"
          class="mr-5"
          href="../engmva1/terms-of-service.html"
          >Terms Of Service</a
        >
        <a
          target="_blank"
          href="../engmva1/privacy-policy.html"
          >Privacy Policy</a
        >
      </div>
    </div>

    <script>

      // Get the query string parameters
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);

      // Get the values of the clickid and ip parameters
      const clickidValue = urlParams.get("clickid");
      const ipValue = urlParams.get("ip");

      // Set the values of the hidden input fields
      document.getElementById("clickid").value = clickidValue;
      document.getElementById("ip").value = ipValue;

      const q1 = document.getElementById("q1");
      const buttons = q1.querySelectorAll("button");

      const q2 = document.getElementById("q2");
      const buttons2 = q2.querySelectorAll("button");

      const q3 = document.getElementById("q3");
      const buttons3 = q3.querySelectorAll("button");

      const q4 = document.getElementById("q4");
      const buttons4 = q4.querySelectorAll("button");

      const q5 = document.getElementById("q5");
      const buttons5 = q5.querySelectorAll("button");

      // const q6 = document.getElementById("q6");
      // const buttons6 = q6.querySelectorAll("button");

      let treatmentConfirm = 0;
      let attorneyConfirm = 0;

      const final = document.getElementById("final");

      const check1 = document.getElementById("check1");
      const check2 = document.getElementById("check2");
      const check3 = document.getElementById("check3");

      const sorry = document.getElementById("sorry");
      const success = document.getElementById("success");

      const causeSelect = document.getElementById("causeSelect");

      let total = 0;

      const progressContainer = document.getElementById("progress");

      const progressBar = document.querySelector("#progress .loading-bar");
      const progressText = document.querySelector(
        "#progress .loading-bar span"
      );

      const webhookUrl = "z.php";

      // Set the initial progress percentage
      let progress = 30;

      // Update the progress percentage and width of the loading bar
      function updateProgress(newProgress) {
        progress = newProgress;
        progressBar.style.width = `${progress}%`;
        progressText.innerText = `${progress}%`;
      }

      buttons.forEach((button) => {
        button.addEventListener("click", function () {
          const refValue = button.getAttribute("ref");
          //console.log(refValue);
          if (refValue === "1") {
            total++;
            //console.log("total update question 1");
            q1.classList.add("hidden");
            sorry.classList.remove("hidden");
            return false;
          }
          document.getElementById("injured").value = "Yes";
          progressContainer.classList.remove("hidden");
          updateProgress(30);
          // hide
          q1.classList.add("hidden");
          q2.classList.remove("hidden");
        });
      });

      buttons2.forEach((button) => {
        button.addEventListener("click", function () {
          if (causeSelect.value === "") {
            alert("Please select what caused your injury.");
            return;
          }
          document.getElementById("cause").value = causeSelect.value;
          const refValue = button.getAttribute("ref");
          //console.log(refValue);
          if (refValue === "1") {
            total++;
            //console.log("total update question 2");
          }
          //console.log("total " + total);
          updateProgress(50);
          // hide
          q2.classList.add("hidden");
          q3.classList.remove("hidden");
        });
      });

      buttons3.forEach((button) => {
        button.addEventListener("click", function () {
          if (document.getElementById("month").value == "") {
            alert("Please select the month of your injury");
            return;
          }
          if (document.getElementById("year").value == "") {
            alert("Please select the year of your injury");
            return;
          }
          const refValue = button.getAttribute("ref");
          //console.log(refValue);
          console.log("this is where we check the year");
          if (document.getElementById("year").value == "Before 2021") {
            q3.classList.add("hidden");
            sorry.classList.remove("hidden");
            return false;
          }
          if (refValue === "1") {
            document.getElementById("monthSelected").value =
              document.getElementById("month").value;
            document.getElementById("yearSelected").value =
              document.getElementById("year").value;
            total++;
            console.log("total update question 2");
          } else {
            document.getElementById("attorney").value = "Yes";
          }
          //console.log("total " + total);
          updateProgress(75);
          // hide
          q3.classList.add("hidden");
          q4.classList.remove("hidden");
        });
      });

      buttons4.forEach((button) => {
        button.addEventListener("click", function () {
          const refValue = button.getAttribute("ref");
          //console.log(refValue);

          if (refValue === "1" && treatmentConfirm == 0) {
            treatmentConfirm = 1;
            alert("In order to receive compensation you must be able to prove you have been injured and received medical help for your injuries.");
            return;
          }

          if (refValue === "1" && treatmentConfirm == 1) {
            q4.classList.add("hidden");
            sorry.classList.remove("hidden");
            return;
          }

          if (refValue === "0") {
            document.getElementById("treated").value = "Yes";
            total++;
            updateProgress(80);
            q4.classList.add("hidden");
            q5.classList.remove("hidden");
          }
        });
      });

      buttons5.forEach((button) => {
        button.addEventListener("click", function () {
          const refValue = button.getAttribute("ref");
          //console.log(refValue);

          // Confirm
          if (refValue === "0" && attorneyConfirm == 0) {
            attorneyConfirm = 1;
            alert(
              "Are you sure you already have a lawyer representing your claim? If so, we cannot help you."
            );
            
            document.getElementById("lawyer-note").classList.remove("hidden");
            return;
          }

          /*
          if (refValue === "0" && attorneyConfirm == 1) {
            q5.classList.add("hidden");
            sorry.classList.remove("hidden");
            return;
          }
          */

          if (refValue === "1") {
            document.getElementById("attorney").value = "No";
            total++;
            console.log("total update question 4");
          } else {
            document.getElementById("attorney").value = "Yes";
          }
          //console.log("total " + total);
          updateProgress(90);
          // hide
          q5.classList.add("hidden");
          q6.classList.remove("hidden");
        });
      });
    </script>
  </body>
</html>
